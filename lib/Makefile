.PHONY: clean all

APP_UTIL=libutil
LIB_UTIL=UTIL
OBJ_UTIL=$(LIB_UTIL).o
SRC_UTIL=$(LIB_UTIL).c
UTIL=$(APP_UTIL).a
INCLUDE_UTIL=../include/util.h

APP_MEDIAN=libmedian
LIB_MEDIAN=median
OBJ_MEDIAN=$(LIB_MEDIAN).o
SRC_MEDIAN=$(LIB_MEDIAN).c
MEDIAN=$(APP_MEDIAN).a
INCLUDE_MEDIAN=../include/median.h

all: $(UTIL) $(MEDIAN) clean

$(UTIL): $(OBJ_UTIL)
		$(MAKELIB) $(UTIL) $(OBJ_UTIL) && $(RANLIB) $(UTIL)

$(OBJ_UTIL): $(SRC_UTIL) $(INCLUDE_UTIL)
		$(CC) -c $(SRC_UTIL)

$(MEDIAN): $(OBJ_MEDIAN)
		$(MAKELIB) $(MEDIAN) $(OBJ_MEDIAN) && $(RANLIB) $(MEDIAN)

$(OBJ_MEDIAN): $(SRC_MEDIAN) $(INCLUDE_MEDIAN)
		$(CC) -c $(SRC_MEDIAN)

clean:
		rm  *.o